"namespace IPS\\Theme;\nclass class_core_admin_system\n{\n\t\t\tfunction backgroundProcessesRunNow(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class='acpBlock'>\n\t<div class=\"ipsPad\">\n\t\t\nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'background_process_run_content', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t<p>\n\t\t\t<a href='\nCONTENT;\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=core&module=system&controller=background&do=process\", null, \"\", array(), 0 ) );\n$return .= <<<CONTENT\n' class=\"ipsButton ipsButton_primary\">\nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'background_process_run_button', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\n\t\t<\/p>\n\t<\/div>\n<\/div>\nCONTENT;\n\t\treturn $return;\n}\n\n\tfunction login( $forms, $activeTab, $error, $icons ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n<!DOCTYPE html>\n<html lang=\"\nCONTENT;\n$return .= htmlspecialchars( \\IPS\\Member::loggedIn()->language()->bcp47(), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" dir=\"\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->language()->isrtl ):\n$return .= <<<CONTENT\nrtl\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\nltr\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\">\n\t<head>\n\t\t<meta charset=\"utf-8\">\n\t\t<title>\nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'login', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/title>\n\t\t\nCONTENT;\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\", 'global' )->includeCSS(  );\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\", 'global' )->includeJS(  );\n$return .= <<<CONTENT\n\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, user-scalable=no\">\n\t<\/head>\n\t<body class='ipsApp ipsApp_admin' id='elLogin' data-controller=\"core.admin.core.app\">\n\t\t<div id='elLogin_box' data-controller=\"core.admin.system.login\"\nCONTENT;\n\nif ( count($forms) == 1 ):\n$return .= <<<CONTENT\n class='elLogin_single'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t<div class='ipsColumns'>\n\t\t\t\t<div class='ipsColumn ipsColumn_fluid' id='elLogin_forms'>\n\t\t\t\t\t<div class='ipsPad'>\n\t\t\t\t\t\t<h1 class='ipsType_pageTitle'><i class='fa fa-lock'><\/i> \nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'acp_login', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h1>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\nCONTENT;\n\nif ( $error ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<div class='ipsMessage ipsMessage_error'>\nCONTENT;\n$val = \"{$error}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/div>\n\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<div id='elTabContent'>\n\t\t\t\t\t\t\t\nCONTENT;\n\nforeach ( $forms as $key => $form ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t<div id='ipsTabs_elLogin_tabs_handler_\nCONTENT;\n$return .= htmlentities( $key, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_panel' class=\" ipsTabs_panel \nCONTENT;\n\nif ( $key != $activeTab ):\n$return .= <<<CONTENT\nipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\">\n\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( is_object( $form ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t{$form->customTemplate( array( \\IPS\\Theme::i()->getTemplate( 'system' ), 'loginForm' ) )}\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t{$form}\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t\nCONTENT;\n\nif ( count( $forms ) > 1 ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<div class='ipsColumn ipsColumn_veryNarrow' id='elLogin_tabs' data-ipsTabBar data-ipsTabBar-contentArea='#elTabContent' data-ipsTabBar-itemSelector=\".elLogin_tabsItem\" data-ipsTabBar-activeClass=\"elLogin_tabsActive\" role=\"tabbar\">\n\t\t\t\t\t\t<ul class='ipsList_reset'>\n\t\t\t\t\t\t\t\nCONTENT;\n\nforeach ( $forms as $key => $form ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t<li role=\"presentation\">\n\t\t\t\t\t\t\t\t\t<a href='\nCONTENT;\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=core&module=system&controller=login&tab=\", null, \"\", array(), 0 ) );\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlentities( $key, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' role=\"tab\" aria-label=\"\nCONTENT;\n$val = \"login_{$key}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\" class='elLogin_tabsItem \nCONTENT;\n\nif ( $key == $activeTab ):\n$return .= <<<CONTENT\nelLogin_tabsActive\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' id='handler_\nCONTENT;\n$return .= htmlentities( $key, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'><i class='fa fa-\nCONTENT;\n\nif ( isset ( $icons[ $key ] ) ):\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlentities( $icons[ $key ], ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\nlock\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'><\/i><\/a>\n\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t<\/div>\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/body>\n<\/html>\nCONTENT;\n\t\treturn $return;\n}\n\n\tfunction loginForm( $id, $action, $tabs, $hiddenValues, $actionButtons, $uploadField ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n<form accept-charset='utf-8' action=\"\nCONTENT;\n$return .= htmlentities( $action, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" method=\"post\" \nCONTENT;\n\nif ( $uploadField ):\n$return .= <<<CONTENT\nenctype=\"multipart\/form-data\"\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlentities( $id, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_submitted\" value=\"1\">\n\t\nCONTENT;\n\nforeach ( $hiddenValues as $k => $v ):\n$return .= <<<CONTENT\n\n\t\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlentities( $k, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" value=\"\nCONTENT;\n$return .= htmlentities( $v, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( $uploadField ):\n$return .= <<<CONTENT\n\n\t\t<input type=\"hidden\" name=\"MAX_FILE_SIZE\" value=\"\nCONTENT;\n$return .= htmlentities( $uploadField, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t<input type=\"hidden\" name=\"plupload\" value=\"\nCONTENT;\n$return .= htmlspecialchars( md5( uniqid() ), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t<ul class='ipsForm ipsForm_vertical'>\n\t\t\nCONTENT;\n\nforeach ( $tabs as $elements ):\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nforeach ( $elements as $element ):\n$return .= <<<CONTENT\n\n\t\t\t\t<li class='ipsFieldRow ipsFieldRow_primary ipsFieldRow_fullWidth'>\n\t\t\t\t\t\nCONTENT;\n\nif ( $element->name === 'auth' ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n\nif ( $element->options['_loginType'] === \\IPS\\Login::AUTH_TYPE_USERNAME + \\IPS\\Login::AUTH_TYPE_EMAIL ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<label class='ipsFieldRow_label'>\nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'username_or_email', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t\nCONTENT;\n\nelseif ( $element->options['_loginType'] === \\IPS\\Login::AUTH_TYPE_USERNAME ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<label class='ipsFieldRow_label'>\nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'username', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<label class='ipsFieldRow_label'>\nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'email_address', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<label class='ipsFieldRow_label'>\nCONTENT;\n$val = \"{$element->name}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t<div class='ipsFieldRow_content'>\n\t\t\t\t\t\t{$element->html()}\n\t\t\t\t\t\t\nCONTENT;\n\nif ( $element->error ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<p><span class=\"error\">\nCONTENT;\n$val = \"{$element->error}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span><\/p>\n\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/li>\n\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t<\/ul>\n\t<br><br>\n\t\n\t<div class='ipsFieldRow_fullWidth'>\n\t\t<button type='submit' class='ipsButton ipsButton_primary ipsButton_large'>\nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'login', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/button>\n\t<\/div>\n\t\n<\/form>\nCONTENT;\n\t\treturn $return;\n}\n\n\tfunction systemLogView( $title, $content ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class='acpBlock'>\n\t<h2 class='acpBlock_title'>$title<\/h2>\n\t<br>\n\t<div class=\"ipsAreaBackground_light ipsPad\">\n\t\t<pre class='logview'>\nCONTENT;\n$return .= htmlentities( $content, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/pre>\n\t<\/div>\n<\/div>\nCONTENT;\n\t\treturn $return;\n}}"