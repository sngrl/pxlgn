"namespace IPS\\Theme;\nclass class_core_front_staffdirectory\n{\n\t\t\tfunction layout_blocks( $users ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\nCONTENT;\n\n$count=0;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nforeach ( $users as $user ):\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( $count%4 == 0 ):\n$return .= <<<CONTENT\n\n\t\t<div class='ipsGrid ipsGrid_collapsePhone cStaffDirectory_blocks'>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t<div class='ipsGrid_span3 ipsType_center ipsAreaBackground_light ipsPad'>\n\t\t\t\nCONTENT;\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userPhoto( $user->member(), 'small' );\n$return .= <<<CONTENT\n<br>\n\t\t\t<h3 class='ipsType_sectionHead'>\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->language()->checkKeyExists( \"core_staff_directory_name_{$user->id}\" )  ):\n$return .= <<<CONTENT\n<a href='\nCONTENT;\n$return .= htmlentities( $user->member()->url(), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\nCONTENT;\n$val = \"core_staff_directory_name_{$user->id}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n{$user->member()->link()}\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t<p class='ipsType_reset ipsType_normal ipsType_light'>\n\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->language()->checkKeyExists( \"core_staff_directory_title_{$user->id}\" ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n$val = \"core_staff_directory_title_{$user->id}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nif ( $user->member()->member_title ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n$return .= htmlentities( $user->member()->member_title, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nelseif ( $user->member()->rank['title'] ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n$return .= htmlentities( $user->member()->rank['title'], ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t<\/p>\n\t\t\t\nCONTENT;\n\nif ( !\\IPS\\Member::loggedIn()->members_disable_pm AND !$user->member()->members_disable_pm ):\n$return .= <<<CONTENT\n\n\t\t\t\t<br>\t\n\t\t\t\t<a href='\nCONTENT;\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=core&module=messaging&controller=messenger&do=compose&to={$user->member()->member_id}\", null, \"messenger_compose\", array(), 0 ) );\n$return .= <<<CONTENT\n' data-ipsDialog data-ipsDialog-title='\nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'compose_new', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n' data-ipsDialog-forceReload data-ipsDialog-remoteSubmit data-ipsDialog-flashMessage=\"\nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'message_sent', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\"><i class='fa fa-envelope'><\/i> \nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'message_send', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t<\/div>\n\t\nCONTENT;\n\n$count++;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( $count%4 == 0 ):\n$return .= <<<CONTENT\n\n\t\t<\/div>\n\t\t<br>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( $count%4 != 0 ):\n$return .= <<<CONTENT\n\n\t<\/div>\n\t<br>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\t\treturn $return;\n}\n\n\tfunction layout_blocks_preview(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class='cStaffDirPreview cStaffDirPreview_blocks'>\n\t<div class='ipsGrid ipsGrid_collapsePhone'>\n\t\t<div class='ipsGrid_span3 ipsType_center cStaffDirPreview_block'>\n\t\t\t<span class='cStaffDirPreview_photo'><\/span><br>\n\t\t\t<span class='cStaffDirPreview_title'><\/span>\n\t\t<\/div>\n\t\t<div class='ipsGrid_span3 ipsType_center cStaffDirPreview_block'>\n\t\t\t<span class='cStaffDirPreview_photo'><\/span><br>\n\t\t\t<span class='cStaffDirPreview_title'><\/span>\n\t\t<\/div>\n\t\t<div class='ipsGrid_span3 ipsType_center cStaffDirPreview_block'>\n\t\t\t<span class='cStaffDirPreview_photo'><\/span><br>\n\t\t\t<span class='cStaffDirPreview_title'><\/span>\n\t\t<\/div>\n\t\t<div class='ipsGrid_span3 ipsType_center cStaffDirPreview_block'>\n\t\t\t<span class='cStaffDirPreview_photo'><\/span><br>\n\t\t\t<span class='cStaffDirPreview_title'><\/span>\n\t\t<\/div>\n\t<\/div>\n<\/div>\nCONTENT;\n\t\treturn $return;\n}\n\n\tfunction layout_full( $users ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\nCONTENT;\n\nforeach ( $users as $user ):\n$return .= <<<CONTENT\n\n\t<div class='ipsAreaBackground_light ipsPad ipsPhotoPanel ipsPhotoPanel_small ipsSpacer_bottom ipsSpacer_half cStaffDirectory_full'>\n\t\t\nCONTENT;\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userPhoto( $user->member(), 'small' );\n$return .= <<<CONTENT\n\n\t\t<div>\n\t\t\t<h3 class='ipsType_sectionHead'>\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->language()->checkKeyExists( \"core_staff_directory_name_{$user->id}\" ) ):\n$return .= <<<CONTENT\n<a href='\nCONTENT;\n$return .= htmlentities( $user->member()->url(), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\nCONTENT;\n$val = \"core_staff_directory_name_{$user->id}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n{$user->member()->link()}\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t<p class='ipsType_reset ipsType_normal ipsType_light'>\n\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->language()->checkKeyExists( \"core_staff_directory_title_{$user->id}\" ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n$val = \"core_staff_directory_title_{$user->id}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nif ( $user->member()->member_title ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n$return .= htmlentities( $user->member()->member_title, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nelseif ( $user->member()->rank['title'] ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n$return .= htmlentities( $user->member()->rank['title'], ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t<\/p>\n\t\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->language()->checkKeyExists( \"core_staff_directory_bio_{$user->id}\" ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t<br>\n\t\t\t\t<div class='ipsType_richText ipsType_normal' data-ipsTruncate data-ipsTruncate-size=\"4 lines\" data-ipsTruncate-type=\"hide\">\nCONTENT;\n$val = \"core_staff_directory_bio_{$user->id}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/div>\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\t\t\t\n\t\t\t\nCONTENT;\n\nif ( !\\IPS\\Member::loggedIn()->members_disable_pm AND !$user->member()->members_disable_pm ):\n$return .= <<<CONTENT\n\n\t\t\t\t<br>\n\t\t\t\t<a href='\nCONTENT;\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=core&module=messaging&controller=messenger&do=compose&to={$user->member()->member_id}\", null, \"messenger_compose\", array(), 0 ) );\n$return .= <<<CONTENT\n' data-ipsDialog data-ipsDialog-title='\nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'compose_new', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n' data-ipsDialog-forceReload data-ipsDialog-remoteSubmit data-ipsDialog-flashMessage=\"\nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'message_sent', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\"><i class='fa fa-envelope'><\/i> \nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'message_send', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t<\/div>\n\t<\/div>\n\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\nCONTENT;\n\t\treturn $return;\n}\n\n\tfunction layout_full_preview(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class='cStaffDirPreview cStaffDirPreview_full'>\n\t<div class='cStaffDirPreview_block cStaffDirPreview_row'>\n\t\t<span class='cStaffDirPreview_photo'><\/span><br>\n\t\t<span class='cStaffDirPreview_title'><\/span>\n\t\t<span class='cStaffDirPreview_text'><\/span>\n\t<\/div>\n\t<div class='cStaffDirPreview_block cStaffDirPreview_row'>\n\t\t<span class='cStaffDirPreview_photo'><\/span><br>\n\t\t<span class='cStaffDirPreview_title'><\/span>\n\t\t<span class='cStaffDirPreview_text'><\/span>\n\t<\/div>\n\t<div class='cStaffDirPreview_block cStaffDirPreview_row'>\n\t\t<span class='cStaffDirPreview_photo'><\/span><br>\n\t\t<span class='cStaffDirPreview_title'><\/span>\n\t\t<span class='cStaffDirPreview_text'><\/span>\n\t<\/div>\n<\/div>\nCONTENT;\n\t\treturn $return;\n}\n\n\tfunction layout_half( $users ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\nCONTENT;\n\n$count=0;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nforeach ( $users as $user ):\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( $count%2 == 0 ):\n$return .= <<<CONTENT\n\n\t\t<div class='ipsGrid ipsGrid_collapsePhone ipsSpacer_bottom cStaffDirectory_half'>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t<div class='ipsGrid_span6 ipsPhotoPanel ipsPhotoPanel_small ipsAreaBackground_light ipsPad'>\n\t\t\t\t\nCONTENT;\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userPhoto( $user->member(), 'small' );\n$return .= <<<CONTENT\n\n\t\t\t\t<div>\n\t\t\t\t\t<h3 class='ipsType_sectionHead'>\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->language()->checkKeyExists( \"core_staff_directory_name_{$user->id}\" ) ):\n$return .= <<<CONTENT\n<a href='\nCONTENT;\n$return .= htmlentities( $user->member()->url(), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\nCONTENT;\n$val = \"core_staff_directory_name_{$user->id}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n{$user->member()->link()}\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t\t<p class='ipsType_light ipsType_normal ipsType_reset'>\n\t\t\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->language()->checkKeyExists( \"core_staff_directory_title_{$user->id}\" )  ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n$val = \"core_staff_directory_title_{$user->id}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $user->member()->member_title ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\nCONTENT;\n$return .= htmlentities( $user->member()->member_title, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\nelseif ( $user->member()->rank['title'] ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\nCONTENT;\n$return .= htmlentities( $user->member()->rank['title'], ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t<\/p>\n\t\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->language()->checkKeyExists( \"core_staff_directory_bio_{$user->id}\" ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<div class='ipsType_richText ipsType_normal' data-ipsTruncate data-ipsTruncate-size=\"4 lines\" data-ipsTruncate-type=\"hide\">\nCONTENT;\n$val = \"core_staff_directory_bio_{$user->id}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/div>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\t\t\t\n\t\t\t\t\t\nCONTENT;\n\nif ( !\\IPS\\Member::loggedIn()->members_disable_pm AND !$user->member()->members_disable_pm ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<a href='\nCONTENT;\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=core&module=messaging&controller=messenger&do=compose&to={$user->member()->member_id}\", null, \"messenger_compose\", array(), 0 ) );\n$return .= <<<CONTENT\n' data-ipsDialog data-ipsDialog-title='\nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'compose_new', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n' data-ipsDialog-forceReload data-ipsDialog-remoteSubmit data-ipsDialog-flashMessage=\"\nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'message_sent', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\"><i class='fa fa-envelope'><\/i> \nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'message_send', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\nCONTENT;\n\n$count++;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( $count%2 == 0 ):\n$return .= <<<CONTENT\n\n\t\t<\/div>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( $count%2 != 0 ):\n$return .= <<<CONTENT\n\n\t<\/div>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\t\treturn $return;\n}\n\n\tfunction layout_half_preview(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class='cStaffDirPreview cStaffDirPreview_full'>\n\t<div class='ipsGrid ipsGrid_collapsePhone'>\n\t\t<div class='ipsGrid_span6 cStaffDirPreview_block cStaffDirPreview_row'>\n\t\t\t<span class='cStaffDirPreview_photo'><\/span><br>\n\t\t\t<span class='cStaffDirPreview_title'><\/span>\n\t\t\t<span class='cStaffDirPreview_text'><\/span>\n\t\t<\/div>\n\t\t<div class='ipsGrid_span6 cStaffDirPreview_block cStaffDirPreview_row'>\n\t\t\t<span class='cStaffDirPreview_photo'><\/span><br>\n\t\t\t<span class='cStaffDirPreview_title'><\/span>\n\t\t\t<span class='cStaffDirPreview_text'><\/span>\n\t\t<\/div>\n\t<\/div>\n\t<div class='ipsGrid ipsGrid_collapsePhone'>\n\t\t<div class='ipsGrid_span6 cStaffDirPreview_block cStaffDirPreview_row'>\n\t\t\t<span class='cStaffDirPreview_photo'><\/span><br>\n\t\t\t<span class='cStaffDirPreview_title'><\/span>\n\t\t\t<span class='cStaffDirPreview_text'><\/span>\n\t\t<\/div>\n\t\t<div class='ipsGrid_span6 cStaffDirPreview_block cStaffDirPreview_row'>\n\t\t\t<span class='cStaffDirPreview_photo'><\/span><br>\n\t\t\t<span class='cStaffDirPreview_title'><\/span>\n\t\t\t<span class='cStaffDirPreview_text'><\/span>\n\t\t<\/div>\n\t<\/div>\n<\/div>\nCONTENT;\n\t\treturn $return;\n}\n\n\tfunction template( $groups, $userIsStaff=FALSE ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\nCONTENT;\n\nif ( $userIsStaff  ):\n$return .= <<<CONTENT\n\n\t<a href=\"\nCONTENT;\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=core&module=members&controller=directory&do=form\", null, \"\", array(), 0 ) );\n$return .= <<<CONTENT\n\" class='ipsPos_right ipsButton ipsButton_small ipsButton_important' data-ipsDialog data-ipsDialog-title='\nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'leader_edit_mine', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n'><i class='fa fa-pencil'><\/i> &nbsp;\nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'leader_edit_mine', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n<h1 class='ipsType_pageTitle'>\n\t\nCONTENT;\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'staff_directory', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n<\/h1>\n<br><br>\n\n\nCONTENT;\n\nforeach ( $groups as $group ):\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( count( $group->members() ) ):\n$return .= <<<CONTENT\n\n\t\t<section class='ipsBox cStaffDirectory'>\n\t\t\t<h2 class='ipsType_sectionTitle ipsType_reset'>\nCONTENT;\n$return .= htmlentities( $group->_title, ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/h2>\n\t\t\t<div class='ipsPad_half'>\n\t\t\t\t\nCONTENT;\n$return .= \\IPS\\Theme::i()->getTemplate( \"staffdirectory\", \"core\", 'front' )->{$group->template}( $group->members() );\n$return .= <<<CONTENT\n\n\t\t\t<\/div>\n\t\t<\/section>\n\t\t<br>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\nCONTENT;\n\t\treturn $return;\n}}"